
<!DOCTYPE html>

<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>app_gui &#8212; Camp2Code Projektphase 1 V1 Dokumentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/translations.js"></script>
    <link rel="index" title="Stichwortverzeichnis" href="../genindex.html" />
    <link rel="search" title="Suche" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Quellcode für app_gui</h1><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">dash</span> <span class="kn">import</span> <span class="n">Dash</span><span class="p">,</span> <span class="n">html</span><span class="p">,</span> <span class="n">dcc</span>
<span class="kn">import</span> <span class="nn">dash_bootstrap_components</span> <span class="k">as</span> <span class="nn">dbc</span>
<span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">from</span> <span class="nn">dash.dependencies</span> <span class="kn">import</span> <span class="n">Output</span><span class="p">,</span> <span class="n">Input</span><span class="p">,</span> <span class="n">State</span>
<span class="kn">from</span> <span class="nn">app_data</span> <span class="kn">import</span> <span class="n">Data</span>
<span class="kn">from</span> <span class="nn">sensorcar</span> <span class="kn">import</span> <span class="n">SensorCar</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">car</span> <span class="o">=</span> <span class="n">SensorCar</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">Data</span><span class="p">()</span>

<div class="viewcode-block" id="SaveConfig"><a class="viewcode-back" href="../index.html#app_gui.SaveConfig">[Doku]</a><span class="k">class</span> <span class="nc">SaveConfig</span><span class="p">():</span>
<div class="viewcode-block" id="SaveConfig.__init__"><a class="viewcode-back" href="../index.html#app_gui.SaveConfig.__init__">[Doku]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">configdata</span> <span class="o">=</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="SaveConfig.save_config"><a class="viewcode-back" href="../index.html#app_gui.SaveConfig.save_config">[Doku]</a>    <span class="k">def</span> <span class="nf">save_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Vmax</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">LWmax</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">DISTmin</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;config.json&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">configdata</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;config.json&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">configdata</span><span class="p">[</span><span class="s2">&quot;Vmax&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Vmax</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">configdata</span><span class="p">[</span><span class="s2">&quot;LWmax&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">LWmax</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">configdata</span><span class="p">[</span><span class="s2">&quot;DISTmin&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">DISTmin</span>
                <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">configdata</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">FileNotFoundError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Fehler: config.json nicht gefunden. Standardwerte werden verwendet. </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">car</span><span class="o">.</span><span class="n">vmax_vorgabe</span> <span class="o">=</span> <span class="mi">50</span>
            <span class="n">car</span><span class="o">.</span><span class="n">maxwinkel_vorgabe</span> <span class="o">=</span> <span class="mi">30</span>
            <span class="n">car</span><span class="o">.</span><span class="n">mindist_vorgabe</span> <span class="o">=</span> <span class="mi">10</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
            <span class="n">car</span><span class="o">.</span><span class="n">vmax_vorgabe</span> <span class="o">=</span> <span class="mi">50</span>
            <span class="n">car</span><span class="o">.</span><span class="n">maxwinkel_vorgabe</span> <span class="o">=</span> <span class="mi">30</span>
            <span class="n">car</span><span class="o">.</span><span class="n">mindist_vorgabe</span> <span class="o">=</span> <span class="mi">10</span></div></div>

<span class="n">saveconfig</span> <span class="o">=</span> <span class="n">SaveConfig</span><span class="p">()</span>

<span class="c1"># Konfigurationslogik</span>
<span class="k">try</span><span class="p">:</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;config.json&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">configdata</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="n">ip_host</span> <span class="o">=</span> <span class="n">configdata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;ip_host&quot;</span><span class="p">,</span> <span class="s2">&quot;0.0.0.0&quot;</span><span class="p">)</span>  <span class="c1"># Fallback zu &quot;0.0.0.0&quot;</span>
        <span class="n">car</span><span class="o">.</span><span class="n">vmax_vorgabe</span> <span class="o">=</span> <span class="n">configdata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;Vmax&quot;</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>  <span class="c1"># Fallback zu 50</span>
        <span class="n">car</span><span class="o">.</span><span class="n">maxwinkel_vorgabe</span> <span class="o">=</span> <span class="n">configdata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;LWmax&quot;</span><span class="p">,</span> <span class="mi">45</span><span class="p">)</span>  <span class="c1"># Fallback zu 45</span>
        <span class="n">car</span><span class="o">.</span><span class="n">mindist_vorgabe</span> <span class="o">=</span> <span class="n">configdata</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;DISTmin&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>  <span class="c1"># Fallback zu 10</span>
<span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fehler: config.json nicht gefunden. Standardwerte werden verwendet.&quot;</span><span class="p">)</span>
    <span class="n">ip_host</span> <span class="o">=</span> <span class="s2">&quot;0.0.0.0&quot;</span>


<span class="c1"># Dash-App erstellen</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">Dash</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">external_stylesheets</span><span class="o">=</span><span class="p">[</span><span class="n">dbc</span><span class="o">.</span><span class="n">themes</span><span class="o">.</span><span class="n">CYBORG</span><span class="p">])</span>

<span class="c1"># Setzt Variable am Anfang auf 1</span>
<span class="n">f_id</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">output_button_disable</span> <span class="o">=</span> <span class="p">[</span>    
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM1&#39;</span><span class="p">,</span> <span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>        
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM2&#39;</span><span class="p">,</span> <span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM3&#39;</span><span class="p">,</span> <span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM4&#39;</span><span class="p">,</span> <span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM5&#39;</span><span class="p">,</span> <span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM6&#39;</span><span class="p">,</span> <span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM7&#39;</span><span class="p">,</span> <span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="p">]</span>

<span class="c1"># App-Layout</span>
<span class="n">app</span><span class="o">.</span><span class="n">layout</span> <span class="o">=</span> <span class="n">dbc</span><span class="o">.</span><span class="n">Container</span><span class="p">([</span>
    <span class="c1"># Titel</span>
    <span class="n">dbc</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
        <span class="n">dbc</span><span class="o">.</span><span class="n">Col</span><span class="p">(</span><span class="n">html</span><span class="o">.</span><span class="n">H1</span><span class="p">(</span><span class="s2">&quot;Fahrmodus-Dashboard&quot;</span><span class="p">,</span> <span class="n">className</span><span class="o">=</span><span class="s2">&quot;text-center&quot;</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">12</span><span class="p">),</span>
        <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>  <span class="c1"># Zentrieren der Zeile</span>
        <span class="n">align</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>    <span class="c1"># Vertikal zentrieren</span>
        <span class="n">className</span><span class="o">=</span><span class="s2">&quot;mb-0&quot;</span>
    <span class="p">),</span>
    
    <span class="c1"># Hauptcard mit ButtonGroup und Buttons</span>
    <span class="n">dbc</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
        <span class="n">dbc</span><span class="o">.</span><span class="n">Col</span><span class="p">(</span>
            <span class="n">dbc</span><span class="o">.</span><span class="n">Card</span><span class="p">(</span>
                <span class="n">dbc</span><span class="o">.</span><span class="n">CardBody</span><span class="p">(</span>
                    <span class="n">children</span><span class="o">=</span><span class="p">[</span>
                        <span class="n">dbc</span><span class="o">.</span><span class="n">ButtonGroup</span><span class="p">(</span>
                            <span class="p">[</span>
                                <span class="n">dbc</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;Fahrmodus 1&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;btFM1&#39;</span><span class="p">),</span> 
                                <span class="n">dbc</span><span class="o">.</span><span class="n">Popover</span><span class="p">(</span><span class="s2">&quot;Vorwärts- und Rückwärtsfahrt&quot;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="s2">&quot;btFM1&quot;</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">trigger</span><span class="o">=</span><span class="s2">&quot;hover&quot;</span><span class="p">,</span> <span class="n">placement</span><span class="o">=</span><span class="s2">&quot;top&quot;</span><span class="p">),</span>
                                <span class="n">dbc</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;Fahrmodus 2&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;btFM2&#39;</span><span class="p">),</span> 
                                <span class="n">dbc</span><span class="o">.</span><span class="n">Popover</span><span class="p">(</span><span class="s2">&quot;Kreisfahrt mit max. Lenkwinkel&quot;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="s2">&quot;btFM2&quot;</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">trigger</span><span class="o">=</span><span class="s2">&quot;hover&quot;</span><span class="p">,</span> <span class="n">placement</span><span class="o">=</span><span class="s2">&quot;top&quot;</span><span class="p">),</span>
                                <span class="n">dbc</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;Fahrmodus 3&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;btFM3&#39;</span><span class="p">),</span> 
                                <span class="n">dbc</span><span class="o">.</span><span class="n">Popover</span><span class="p">(</span><span class="s2">&quot;Vorwärts fahren bis Hindernis&quot;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="s2">&quot;btFM3&quot;</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">trigger</span><span class="o">=</span><span class="s2">&quot;hover&quot;</span><span class="p">,</span> <span class="n">placement</span><span class="o">=</span><span class="s2">&quot;top&quot;</span><span class="p">),</span>
                                <span class="n">dbc</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;Fahrmodus 4&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;btFM4&#39;</span><span class="p">),</span> 
                                <span class="n">dbc</span><span class="o">.</span><span class="n">Popover</span><span class="p">(</span><span class="s2">&quot;Erkundungstour&quot;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="s2">&quot;btFM4&quot;</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">trigger</span><span class="o">=</span><span class="s2">&quot;hover&quot;</span><span class="p">,</span> <span class="n">placement</span><span class="o">=</span><span class="s2">&quot;top&quot;</span><span class="p">),</span>
                                <span class="n">dbc</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;Fahrmodus 5&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;btFM5&#39;</span><span class="p">),</span> 
                                <span class="n">dbc</span><span class="o">.</span><span class="n">Popover</span><span class="p">(</span><span class="s2">&quot;Linienverfolgung&quot;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="s2">&quot;btFM5&quot;</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">trigger</span><span class="o">=</span><span class="s2">&quot;hover&quot;</span><span class="p">,</span> <span class="n">placement</span><span class="o">=</span><span class="s2">&quot;top&quot;</span><span class="p">),</span>
                                <span class="n">dbc</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;Fahrmodus 6&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;btFM6&#39;</span><span class="p">),</span> 
                                <span class="n">dbc</span><span class="o">.</span><span class="n">Popover</span><span class="p">(</span><span class="s2">&quot;Erweiterte Linienverfolgung&quot;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="s2">&quot;btFM6&quot;</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">trigger</span><span class="o">=</span><span class="s2">&quot;hover&quot;</span><span class="p">,</span> <span class="n">placement</span><span class="o">=</span><span class="s2">&quot;top&quot;</span><span class="p">),</span>
                                <span class="n">dbc</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;Fahrmodus 7&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;btFM7&#39;</span><span class="p">),</span> 
                                <span class="n">dbc</span><span class="o">.</span><span class="n">Popover</span><span class="p">(</span><span class="s2">&quot;Erweiterte Linienverfolgung mit Hinderniserkennung&quot;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="s2">&quot;btFM7&quot;</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">trigger</span><span class="o">=</span><span class="s2">&quot;hover&quot;</span><span class="p">,</span> <span class="n">placement</span><span class="o">=</span><span class="s2">&quot;top&quot;</span><span class="p">),</span>
                                <span class="n">dbc</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;M&quot;</span><span class="p">,</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;collapse-button&quot;</span><span class="p">,</span> <span class="n">n_clicks</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>
                                <span class="n">dbc</span><span class="o">.</span><span class="n">Popover</span><span class="p">(</span><span class="s2">&quot;Manueller Fahrmodus&quot;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="s2">&quot;collapse-button&quot;</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">trigger</span><span class="o">=</span><span class="s2">&quot;hover&quot;</span><span class="p">,</span> <span class="n">placement</span><span class="o">=</span><span class="s2">&quot;top&quot;</span><span class="p">),</span>
                            <span class="p">],</span>
                            <span class="n">size</span><span class="o">=</span><span class="s2">&quot;lg&quot;</span><span class="p">,</span>
                            <span class="n">className</span><span class="o">=</span><span class="s2">&quot;me-1&quot;</span><span class="p">,</span>
                        <span class="p">),</span>
                        <span class="n">dbc</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;STOPP&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;btStopp&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;danger&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;margin&#39;</span><span class="p">:</span><span class="s1">&#39;15px&#39;</span><span class="p">},</span> <span class="n">size</span><span class="o">=</span><span class="s2">&quot;lg&quot;</span><span class="p">),</span>
                        <span class="n">dbc</span><span class="o">.</span><span class="n">Popover</span><span class="p">(</span><span class="s2">&quot;Stoppen der aktuellen Fahrt&quot;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="s2">&quot;btStopp&quot;</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">trigger</span><span class="o">=</span><span class="s2">&quot;hover&quot;</span><span class="p">,</span> <span class="n">placement</span><span class="o">=</span><span class="s2">&quot;top&quot;</span><span class="p">),</span>
                        <span class="n">dbc</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s1">&#39;Kalibrierung!&#39;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;btCali&#39;</span><span class="p">,</span> <span class="n">n_clicks</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;margin&#39;</span><span class="p">:</span><span class="s1">&#39;15px&#39;</span><span class="p">},</span> <span class="n">size</span><span class="o">=</span><span class="s2">&quot;lg&quot;</span><span class="p">),</span>
                        <span class="n">dbc</span><span class="o">.</span><span class="n">Popover</span><span class="p">(</span><span class="s2">&quot;Kalibrierung der IR-Sensoren&quot;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="s2">&quot;btCali&quot;</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">trigger</span><span class="o">=</span><span class="s2">&quot;hover&quot;</span><span class="p">,</span> <span class="n">placement</span><span class="o">=</span><span class="s2">&quot;top&quot;</span><span class="p">),</span>
                        <span class="c1">#dbc.Button(&quot;M&quot;,id=&quot;collapse-button&quot;, style={&#39;margin&#39;:&#39;15px&#39;}, size=&quot;lg&quot;, n_clicks=0,),                        </span>
                        <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;cali_value&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;textAlign&#39;</span><span class="p">:</span><span class="s1">&#39;right&#39;</span><span class="p">}),</span>
                        <span class="c1"># Hier die Dropdowns hinzufügen</span>
                        <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span>
                            <span class="n">children</span><span class="o">=</span><span class="p">[</span>
                                <span class="n">html</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Max. Geschwindigkeit&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;margin-left&#39;</span><span class="p">:</span> <span class="s1">&#39;10px&#39;</span><span class="p">}),</span>  <span class="c1"># Label links vom Dropdown</span>
                                <span class="n">dcc</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">(</span>
                                    <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;vmax_vorgabe&#39;</span><span class="p">,</span>
                                    <span class="n">options</span><span class="o">=</span><span class="p">[</span>
                                        <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;15cm/s&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">},</span>
                                        <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;20cm/s&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">40</span><span class="p">},</span>
                                        <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;25cm/s&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">50</span><span class="p">},</span>
                                        <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;30cm/s&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">60</span><span class="p">},</span>
                                        <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;35cm/s&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">70</span><span class="p">},</span>
                                        <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;40cm/s&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">80</span><span class="p">},</span>
                                        <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;45cm/s&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">90</span><span class="p">},</span>
                                        <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;50cm/s&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">},</span>
                                    <span class="p">],</span>
                                    <span class="n">value</span><span class="o">=</span><span class="n">car</span><span class="o">.</span><span class="n">vmax_vorgabe</span><span class="p">,</span>  <span class="c1"># Standardwert</span>
                                    <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="s1">&#39;150px&#39;</span><span class="p">}</span>
                                <span class="p">),</span>
                                <span class="n">html</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Lenkwinkel&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;margin-left&#39;</span><span class="p">:</span> <span class="s1">&#39;10px&#39;</span><span class="p">}),</span>  <span class="c1"># Label links vom Dropdown</span>
                                <span class="n">dcc</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">(</span>
                                    <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;maxwinkel_vorgabe&#39;</span><span class="p">,</span>
                                    <span class="n">options</span><span class="o">=</span><span class="p">[</span>
                                        <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;15°&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">},</span>
                                        <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;30°&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">},</span>
                                        <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;45°&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">45</span><span class="p">},</span>
                                    <span class="p">],</span>
                                    <span class="n">value</span><span class="o">=</span><span class="n">car</span><span class="o">.</span><span class="n">maxwinkel_vorgabe</span><span class="p">,</span>  <span class="c1"># Standardwert</span>
                                    <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="s1">&#39;150px&#39;</span><span class="p">}</span>
                                <span class="p">),</span>
                                <span class="n">html</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="s2">&quot;Min. Distanz&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;margin-left&#39;</span><span class="p">:</span> <span class="s1">&#39;10px&#39;</span><span class="p">}),</span>  <span class="c1"># Label links vom Dropdown</span>
                                <span class="n">dcc</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">(</span>
                                    <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;mindist_vorgabe&#39;</span><span class="p">,</span>
                                    <span class="n">options</span><span class="o">=</span><span class="p">[</span>
                                        <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;Aus&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span>
                                        <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;5cm&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">},</span>
                                        <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;10cm&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span>
                                        <span class="p">{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;15cm&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">},</span>
                                    <span class="p">],</span>
                                    <span class="n">value</span><span class="o">=</span><span class="n">car</span><span class="o">.</span><span class="n">mindist_vorgabe</span><span class="p">,</span>  <span class="c1"># Standardwert</span>
                                    <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="s1">&#39;150px&#39;</span><span class="p">}</span>
                                <span class="p">),</span>
                            <span class="p">],</span>
                            <span class="n">style</span><span class="o">=</span><span class="p">{</span>
                                <span class="s1">&#39;display&#39;</span><span class="p">:</span> <span class="s1">&#39;flex&#39;</span><span class="p">,</span>  <span class="c1"># Flexbox verwenden, um Dropdowns nebeneinander zu setzen</span>
                                <span class="s1">&#39;justify-content&#39;</span><span class="p">:</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span>  <span class="c1"># Zentrieren</span>
                                <span class="s1">&#39;gap&#39;</span><span class="p">:</span> <span class="s1">&#39;20px&#39;</span><span class="p">,</span>  <span class="c1"># Abstand zwischen den Dropdowns</span>
                                <span class="s1">&#39;margin-top&#39;</span><span class="p">:</span> <span class="s1">&#39;20px&#39;</span>  <span class="c1"># Abstand nach oben</span>
                            <span class="p">}</span>
                        <span class="p">),</span>
                        <span class="n">dbc</span><span class="o">.</span><span class="n">Collapse</span><span class="p">(</span>
                            <span class="n">dbc</span><span class="o">.</span><span class="n">Card</span><span class="p">(</span>
                                <span class="n">dbc</span><span class="o">.</span><span class="n">CardBody</span><span class="p">(</span>
                                    <span class="n">children</span><span class="o">=</span><span class="p">[</span>
                                        <span class="n">dbc</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;Vor&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;btVor&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;primary&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="s1">&#39;100px&#39;</span><span class="p">,</span> <span class="s1">&#39;margin&#39;</span><span class="p">:</span><span class="s1">&#39;15px&#39;</span><span class="p">},</span> <span class="n">size</span><span class="o">=</span><span class="s2">&quot;lg&quot;</span><span class="p">),</span>
                                        <span class="n">dbc</span><span class="o">.</span><span class="n">Popover</span><span class="p">(</span><span class="s2">&quot;Vorwärtsfahren&quot;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="s2">&quot;btVor&quot;</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">trigger</span><span class="o">=</span><span class="s2">&quot;hover&quot;</span><span class="p">,</span> <span class="n">placement</span><span class="o">=</span><span class="s2">&quot;top&quot;</span><span class="p">),</span>
                                        <span class="n">html</span><span class="o">.</span><span class="n">Div</span><span class="p">(</span>
                                            <span class="p">[</span>
                                                <span class="n">dbc</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;Links&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;btLinks&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;primary&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="s1">&#39;100px&#39;</span><span class="p">,</span> <span class="s1">&#39;margin&#39;</span><span class="p">:</span><span class="s1">&#39;15px&#39;</span><span class="p">},</span> <span class="n">size</span><span class="o">=</span><span class="s2">&quot;lg&quot;</span><span class="p">),</span>
                                                <span class="n">dbc</span><span class="o">.</span><span class="n">Popover</span><span class="p">(</span><span class="s2">&quot;Nach Links lenken&quot;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="s2">&quot;btLinks&quot;</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">trigger</span><span class="o">=</span><span class="s2">&quot;hover&quot;</span><span class="p">,</span> <span class="n">placement</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">),</span>
                                                <span class="n">dbc</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;Stopp&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;btStop&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;danger&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="s1">&#39;100px&#39;</span><span class="p">,</span> <span class="s1">&#39;margin&#39;</span><span class="p">:</span><span class="s1">&#39;15px&#39;</span><span class="p">},</span> <span class="n">size</span><span class="o">=</span><span class="s2">&quot;lg&quot;</span><span class="p">),</span>                                   
                                                <span class="n">dbc</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;Rechts&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;btRechts&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;primary&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="s1">&#39;100px&#39;</span><span class="p">,</span> <span class="s1">&#39;margin&#39;</span><span class="p">:</span><span class="s1">&#39;15px&#39;</span><span class="p">},</span> <span class="n">size</span><span class="o">=</span><span class="s2">&quot;lg&quot;</span><span class="p">),</span>
                                                <span class="n">dbc</span><span class="o">.</span><span class="n">Popover</span><span class="p">(</span><span class="s2">&quot;Nach Rechts lenken&quot;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="s2">&quot;btRechts&quot;</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">trigger</span><span class="o">=</span><span class="s2">&quot;hover&quot;</span><span class="p">,</span> <span class="n">placement</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">),</span>
                                            <span class="p">],</span>
                                            <span class="n">style</span><span class="o">=</span><span class="p">{</span>
                                                <span class="s1">&#39;display&#39;</span><span class="p">:</span> <span class="s1">&#39;flex&#39;</span><span class="p">,</span>  <span class="c1"># Flexbox verwenden, um Buttons nebeneinander zu setzen</span>
                                                <span class="s1">&#39;justify-content&#39;</span><span class="p">:</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span>  <span class="c1"># Zentrieren</span>
                                                <span class="s1">&#39;gap&#39;</span><span class="p">:</span> <span class="s1">&#39;10px&#39;</span>  <span class="c1"># Abstand zwischen den Buttons</span>
                                            <span class="p">}</span>
                                        <span class="p">),</span>
                                        <span class="n">dbc</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s2">&quot;Zurück&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;btZurueck&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;primary&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="s1">&#39;100px&#39;</span><span class="p">,</span> <span class="s1">&#39;margin&#39;</span><span class="p">:</span><span class="s1">&#39;15px&#39;</span><span class="p">},</span> <span class="n">size</span><span class="o">=</span><span class="s2">&quot;lg&quot;</span><span class="p">),</span>
                                        <span class="n">dbc</span><span class="o">.</span><span class="n">Popover</span><span class="p">(</span><span class="s2">&quot;Rückwärtsfahren&quot;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="s2">&quot;btZurueck&quot;</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">trigger</span><span class="o">=</span><span class="s2">&quot;hover&quot;</span><span class="p">,</span> <span class="n">placement</span><span class="o">=</span><span class="s2">&quot;bottom&quot;</span><span class="p">),</span>                                                                                                            
                                    <span class="p">],</span>
                                    <span class="n">style</span><span class="o">=</span><span class="p">{</span>
                                        <span class="s1">&#39;display&#39;</span><span class="p">:</span> <span class="s1">&#39;flex&#39;</span><span class="p">,</span>  <span class="c1"># Flexbox verwenden, um Buttons nebeneinander zu setzen</span>
                                        <span class="s1">&#39;flex-direction&#39;</span><span class="p">:</span> <span class="s1">&#39;column&#39;</span><span class="p">,</span>  <span class="c1"># Vertikale Anordnung</span>
                                        <span class="s1">&#39;align-items&#39;</span><span class="p">:</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span>  <span class="c1"># Zentrieren</span>
                                        <span class="s1">&#39;gap&#39;</span><span class="p">:</span> <span class="s1">&#39;10px&#39;</span>  <span class="c1"># Abstand zwischen den Buttons</span>
                                    <span class="p">}</span>
                                <span class="p">)</span>
                            <span class="p">),</span>
                            <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;collapse&quot;</span><span class="p">,</span>
                            <span class="n">is_open</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                        <span class="p">),</span>                        
                    <span class="p">]</span>
                <span class="p">),</span>
                <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;display&#39;</span><span class="p">:</span> <span class="s1">&#39;flex&#39;</span><span class="p">,</span> <span class="s1">&#39;justify-content&#39;</span><span class="p">:</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="s1">&#39;align-items&#39;</span><span class="p">:</span> <span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="s1">&#39;100%&#39;</span><span class="p">,</span> <span class="s1">&#39;margin-left&#39;</span><span class="p">:</span> <span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="s1">&#39;margin-right&#39;</span><span class="p">:</span> <span class="s1">&#39;auto&#39;</span><span class="p">}</span>
            <span class="p">),</span>
            <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>  <span class="c1"># Zentrieren der Row</span>
        <span class="n">align</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>    <span class="c1"># Vertikal zentrieren</span>
        <span class="n">className</span><span class="o">=</span><span class="s2">&quot;mb-4&quot;</span>
    <span class="p">),</span>
    
    <span class="c1"># Dropdown</span>
    <span class="n">dbc</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
        <span class="n">dbc</span><span class="o">.</span><span class="n">Col</span><span class="p">([</span>
            <span class="n">html</span><span class="o">.</span><span class="n">H4</span><span class="p">(</span><span class="s2">&quot;Fahrtauswahl:&quot;</span><span class="p">),</span>
            <span class="n">dcc</span><span class="o">.</span><span class="n">Dropdown</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;fahrt-dropdown&#39;</span><span class="p">,</span>
                <span class="n">options</span><span class="o">=</span><span class="p">[{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Fahrt </span><span class="si">{</span><span class="n">fahrt_id</span><span class="si">}</span><span class="s2">, Fahrmodus: </span><span class="si">{</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">fahrt_id</span><span class="p">][</span><span class="s1">&#39;Fahrmodus&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="n">fahrt_id</span><span class="p">}</span> <span class="k">for</span> <span class="n">fahrt_id</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()],</span>
                <span class="n">value</span><span class="o">=</span><span class="n">data</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span>  <span class="c1"># Standardauswahl</span>
                <span class="n">clearable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                <span class="n">className</span><span class="o">=</span><span class="s2">&quot;mb-2&quot;</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">],</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">),</span>  <span class="c1"># Breite auf 10 gesetzt</span>
        <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>  <span class="c1"># Horizontale Zentrierung</span>
        <span class="n">align</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>    <span class="c1"># Vertikale Zentrierung</span>
        <span class="n">className</span><span class="o">=</span><span class="s2">&quot;mb-3&quot;</span>
    <span class="p">),</span>
    
    <span class="c1"># Geschwindigkeits- und Streckenkarten mit einer Row-Breite von 10</span>
    <span class="n">dbc</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="n">dbc</span><span class="o">.</span><span class="n">Col</span><span class="p">(</span>
                <span class="n">dbc</span><span class="o">.</span><span class="n">Card</span><span class="p">(</span>
                    <span class="n">dbc</span><span class="o">.</span><span class="n">CardBody</span><span class="p">(</span>
                        <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="s2">&quot;Geschwindigkeit min:&quot;</span><span class="p">),</span> <span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;Vmin&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> cm/s&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Vmin&quot;</span><span class="p">)],</span>
                    <span class="p">),</span>
                    <span class="n">style</span><span class="o">=</span><span class="p">{</span> <span class="s1">&#39;margin&#39;</span><span class="p">:</span> <span class="s1">&#39;0px&#39;</span><span class="p">}</span>
                <span class="p">),</span>
                <span class="n">width</span><span class="o">=</span><span class="mi">2</span>  <span class="c1"># Jede Karte nimmt 2 von 12 Spalten ein</span>
            <span class="p">),</span>
            <span class="n">dbc</span><span class="o">.</span><span class="n">Col</span><span class="p">(</span>
                <span class="n">dbc</span><span class="o">.</span><span class="n">Card</span><span class="p">(</span>
                    <span class="n">dbc</span><span class="o">.</span><span class="n">CardBody</span><span class="p">(</span>
                        <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="s2">&quot;Geschwindigkeit max:&quot;</span><span class="p">),</span> <span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;Vmax&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> cm/s&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Vmax&quot;</span><span class="p">)],</span>
                    <span class="p">),</span>
                    <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;margin&#39;</span><span class="p">:</span> <span class="s1">&#39;0px&#39;</span><span class="p">}</span>
                <span class="p">),</span>
                <span class="n">width</span><span class="o">=</span><span class="mi">2</span>
            <span class="p">),</span>
            <span class="n">dbc</span><span class="o">.</span><span class="n">Col</span><span class="p">(</span>
                <span class="n">dbc</span><span class="o">.</span><span class="n">Card</span><span class="p">(</span>
                    <span class="n">dbc</span><span class="o">.</span><span class="n">CardBody</span><span class="p">(</span>
                        <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="s2">&quot;Geschwindigkeit mean:&quot;</span><span class="p">),</span> <span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;Vmean&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> cm/s&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Vmean&quot;</span><span class="p">)],</span>
                    <span class="p">),</span>
                    <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;margin&#39;</span><span class="p">:</span> <span class="s1">&#39;0px&#39;</span><span class="p">}</span>
                <span class="p">),</span>
                <span class="n">width</span><span class="o">=</span><span class="mi">2</span>
            <span class="p">),</span>
            <span class="n">dbc</span><span class="o">.</span><span class="n">Col</span><span class="p">(</span>
                <span class="n">dbc</span><span class="o">.</span><span class="n">Card</span><span class="p">(</span>
                    <span class="n">dbc</span><span class="o">.</span><span class="n">CardBody</span><span class="p">(</span>
                        <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="s2">&quot;Fahrstrecke:&quot;</span><span class="p">),</span> <span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;Fahrstrecke&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> m&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Fahrstrecke&quot;</span><span class="p">)],</span>
                    <span class="p">),</span>
                    <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;margin&#39;</span><span class="p">:</span> <span class="s1">&#39;0px&#39;</span><span class="p">}</span>
                <span class="p">),</span>
                <span class="n">width</span><span class="o">=</span><span class="mi">2</span>
            <span class="p">),</span>
            <span class="n">dbc</span><span class="o">.</span><span class="n">Col</span><span class="p">(</span>
                <span class="n">dbc</span><span class="o">.</span><span class="n">Card</span><span class="p">(</span>
                    <span class="n">dbc</span><span class="o">.</span><span class="n">CardBody</span><span class="p">(</span>
                        <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="s2">&quot;Fahrzeit:&quot;</span><span class="p">),</span> <span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;Fahrzeit&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> s&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Fahrzeit&quot;</span><span class="p">)],</span>
                    <span class="p">),</span>
                    <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;margin&#39;</span><span class="p">:</span> <span class="s1">&#39;0px&#39;</span><span class="p">}</span>
                <span class="p">),</span>
                <span class="n">width</span><span class="o">=</span><span class="mi">2</span>
            <span class="p">),</span>
            <span class="n">dbc</span><span class="o">.</span><span class="n">Col</span><span class="p">(</span>
                <span class="n">dbc</span><span class="o">.</span><span class="n">Card</span><span class="p">(</span>
                    <span class="n">dbc</span><span class="o">.</span><span class="n">CardBody</span><span class="p">(</span>
                        <span class="n">children</span><span class="o">=</span><span class="p">[</span><span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="s2">&quot;Fahrmodus:&quot;</span><span class="p">),</span> <span class="n">html</span><span class="o">.</span><span class="n">P</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;Fahrmodus&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> s&quot;</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;Fahrmodus&quot;</span><span class="p">)],</span>
                    <span class="p">),</span>
                    <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;margin&#39;</span><span class="p">:</span> <span class="s1">&#39;0px&#39;</span><span class="p">}</span>
                <span class="p">),</span>
                <span class="n">width</span><span class="o">=</span><span class="mi">2</span>
            <span class="p">),</span>
        <span class="p">],</span>
        <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>  <span class="c1"># Zentriert die Karten horizontal</span>
        <span class="n">align</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>    <span class="c1"># Zentriert die Karten vertikal</span>
        <span class="n">className</span><span class="o">=</span><span class="s2">&quot;mb-4&quot;</span><span class="p">,</span>  <span class="c1"># Optional: Abstand nach unten</span>
        <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="s1">&#39;84.4%&#39;</span><span class="p">,</span> <span class="s1">&#39;margin-left&#39;</span><span class="p">:</span> <span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="s1">&#39;margin-right&#39;</span><span class="p">:</span> <span class="s1">&#39;auto&#39;</span><span class="p">}</span>  <span class="c1"># Setzt die Breite der Row auf 10/12 der Gesamtbreite</span>
    <span class="p">),</span>
    
    <span class="c1"># Graphen</span>
    <span class="n">dbc</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
        <span class="n">dbc</span><span class="o">.</span><span class="n">Col</span><span class="p">(</span><span class="n">dcc</span><span class="o">.</span><span class="n">Graph</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;geschwindigkeit-zeit&#39;</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">),</span>  <span class="c1"># Breite auf 10 gesetzt</span>
        <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>  <span class="c1"># Horizontale Zentrierung</span>
        <span class="n">align</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>    <span class="c1"># Vertikale Zentrierung</span>
        <span class="n">className</span><span class="o">=</span><span class="s2">&quot;mb-4&quot;</span>
    <span class="p">),</span>
    <span class="n">dbc</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
        <span class="n">dbc</span><span class="o">.</span><span class="n">Col</span><span class="p">(</span><span class="n">dcc</span><span class="o">.</span><span class="n">Graph</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;lenkwinkel-zeit&#39;</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">),</span>  <span class="c1"># Breite auf 10 gesetzt</span>
        <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>  <span class="c1"># Horizontale Zentrierung</span>
        <span class="n">align</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>    <span class="c1"># Vertikale Zentrierung</span>
        <span class="n">className</span><span class="o">=</span><span class="s2">&quot;mb-4&quot;</span>
    <span class="p">),</span>
    <span class="n">dbc</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
        <span class="n">dbc</span><span class="o">.</span><span class="n">Col</span><span class="p">(</span><span class="n">dcc</span><span class="o">.</span><span class="n">Graph</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;sonic-zeit&#39;</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">),</span>  <span class="c1"># Breite auf 10 gesetzt</span>
        <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>  <span class="c1"># Horizontale Zentrierung</span>
        <span class="n">align</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>    <span class="c1"># Vertikale Zentrierung</span>
        <span class="n">className</span><span class="o">=</span><span class="s2">&quot;mb-4&quot;</span>
    <span class="p">),</span>       
    <span class="n">dbc</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
        <span class="n">dbc</span><span class="o">.</span><span class="n">Col</span><span class="p">(</span><span class="n">dcc</span><span class="o">.</span><span class="n">Graph</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;ir-status-zeit&#39;</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">),</span>  <span class="c1"># Breite auf 10 gesetzt</span>
        <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>  <span class="c1"># Horizontale Zentrierung</span>
        <span class="n">align</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>    <span class="c1"># Vertikale Zentrierung</span>
        <span class="n">className</span><span class="o">=</span><span class="s2">&quot;mb-4&quot;</span>
    <span class="p">),</span>
    <span class="n">dbc</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
        <span class="n">dbc</span><span class="o">.</span><span class="n">Col</span><span class="p">(</span><span class="n">dcc</span><span class="o">.</span><span class="n">Graph</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;fahrstrecke-zeit&#39;</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mi">10</span><span class="p">),</span>  <span class="c1"># Breite auf 10 gesetzt</span>
        <span class="n">justify</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>  <span class="c1"># Horizontale Zentrierung</span>
        <span class="n">align</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span>    <span class="c1"># Vertikale Zentrierung</span>
        <span class="n">className</span><span class="o">=</span><span class="s2">&quot;mb-4&quot;</span>
    <span class="p">),</span>    
<span class="p">],</span> <span class="n">fluid</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>



<span class="c1"># Callback zur Aktualisierung der Diagramme basierend auf der Fahrtauswahl</span>

<span class="c1"># Button Fahrmodus 1</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
    <span class="n">output_button_disable</span><span class="p">,</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM1&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM1&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;btFM1&#39;</span><span class="p">,</span> <span class="s1">&#39;n_clicks&#39;</span><span class="p">),</span> 
    <span class="n">prevent_initial_call</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_output</span><span class="p">(</span><span class="n">n_clicks</span><span class="p">):</span>
    <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="p">[</span><span class="n">dbc</span><span class="o">.</span><span class="n">Spinner</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="s2">&quot;sm&quot;</span><span class="p">),</span> <span class="s2">&quot; FM1 aktiv...&quot;</span><span class="p">],</span> <span class="s1">&#39;warning&#39;</span>

<span class="c1"># Button Fahrmodus 1 Farbänderung</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
    <span class="n">output_button_disable</span><span class="p">,</span>        
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM1&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>    
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;fahrt-dropdown&#39;</span><span class="p">,</span> <span class="s1">&#39;options&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> 
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;fahrt-dropdown&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>     
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM1&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;btFM1&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">),</span> 
    <span class="n">prevent_initial_call</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_output</span><span class="p">(</span><span class="n">color</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;warning&#39;</span><span class="p">:</span>
        <span class="n">car</span><span class="o">.</span><span class="n">fahrmodus</span><span class="p">(</span><span class="n">fmodus</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="n">car</span><span class="o">.</span><span class="n">vmax_vorgabe</span><span class="p">,</span> <span class="n">mindist</span><span class="o">=</span><span class="n">car</span><span class="o">.</span><span class="n">mindist_vorgabe</span><span class="p">)</span>
        <span class="n">data</span><span class="o">.</span><span class="n">read_data</span><span class="p">()</span>  
    <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;Fahrmodus 1&#39;</span><span class="p">,</span> <span class="p">[{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Fahrt </span><span class="si">{</span><span class="n">fahrt_id</span><span class="si">}</span><span class="s2">, Fahrmodus: </span><span class="si">{</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">fahrt_id</span><span class="p">][</span><span class="s1">&#39;Fahrmodus&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="n">fahrt_id</span><span class="p">}</span> <span class="k">for</span> <span class="n">fahrt_id</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()],</span> <span class="n">data</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;primary&#39;</span>

<span class="c1"># Button Fahrmodus 2</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
    <span class="n">output_button_disable</span><span class="p">,</span> 
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM2&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>    
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM2&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">),</span>
    <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;btFM2&#39;</span><span class="p">,</span> <span class="s1">&#39;n_clicks&#39;</span><span class="p">),</span> 
    <span class="n">prevent_initial_call</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_output</span><span class="p">(</span><span class="n">n_clicks</span><span class="p">):</span>
    <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="p">[</span><span class="n">dbc</span><span class="o">.</span><span class="n">Spinner</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="s2">&quot;sm&quot;</span><span class="p">),</span> <span class="s2">&quot; FM2 aktiv...&quot;</span><span class="p">],</span><span class="s1">&#39;warning&#39;</span>

<span class="c1"># Button Fahrmodus 2 Farbänderung</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
    <span class="n">output_button_disable</span><span class="p">,</span> 
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM2&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>    
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;fahrt-dropdown&#39;</span><span class="p">,</span> <span class="s1">&#39;options&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> 
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;fahrt-dropdown&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>            
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM2&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;btFM2&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">),</span> 
    <span class="n">prevent_initial_call</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_output</span><span class="p">(</span><span class="n">color</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;warning&#39;</span><span class="p">:</span>
        <span class="n">car</span><span class="o">.</span><span class="n">fahrmodus</span><span class="p">(</span><span class="n">fmodus</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="n">car</span><span class="o">.</span><span class="n">vmax_vorgabe</span><span class="p">,</span> <span class="n">mindist</span><span class="o">=</span><span class="n">car</span><span class="o">.</span><span class="n">mindist_vorgabe</span><span class="p">)</span>
        <span class="n">data</span><span class="o">.</span><span class="n">read_data</span><span class="p">()</span>  
    <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;Fahrmodus 2&#39;</span><span class="p">,</span> <span class="p">[{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Fahrt </span><span class="si">{</span><span class="n">fahrt_id</span><span class="si">}</span><span class="s2">, Fahrmodus: </span><span class="si">{</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">fahrt_id</span><span class="p">][</span><span class="s1">&#39;Fahrmodus&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="n">fahrt_id</span><span class="p">}</span> <span class="k">for</span> <span class="n">fahrt_id</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()],</span> <span class="n">data</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;primary&#39;</span>

<span class="c1"># Button Fahrmodus 3</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
    <span class="n">output_button_disable</span><span class="p">,</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM3&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>      
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM3&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">),</span>
    <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;btFM3&#39;</span><span class="p">,</span> <span class="s1">&#39;n_clicks&#39;</span><span class="p">),</span> 
    <span class="n">prevent_initial_call</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_output</span><span class="p">(</span><span class="n">n_clicks</span><span class="p">):</span>
    <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="p">[</span><span class="n">dbc</span><span class="o">.</span><span class="n">Spinner</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="s2">&quot;sm&quot;</span><span class="p">),</span> <span class="s2">&quot; FM3 aktiv...&quot;</span><span class="p">],</span> <span class="s1">&#39;warning&#39;</span>

<span class="c1"># Button Fahrmodus 3 Farbänderung</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
    <span class="n">output_button_disable</span><span class="p">,</span> 
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM3&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>            
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;fahrt-dropdown&#39;</span><span class="p">,</span> <span class="s1">&#39;options&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> 
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;fahrt-dropdown&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>     
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM3&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;btFM3&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">),</span> 
    <span class="n">prevent_initial_call</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_output</span><span class="p">(</span><span class="n">color</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;warning&#39;</span><span class="p">:</span>
        <span class="n">car</span><span class="o">.</span><span class="n">fahrmodus</span><span class="p">(</span><span class="n">fmodus</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="n">car</span><span class="o">.</span><span class="n">vmax_vorgabe</span><span class="p">,</span>  <span class="n">mindist</span><span class="o">=</span><span class="n">car</span><span class="o">.</span><span class="n">mindist_vorgabe</span><span class="p">)</span>
        <span class="n">data</span><span class="o">.</span><span class="n">read_data</span><span class="p">()</span>  
    <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;Fahrmodus 3&#39;</span><span class="p">,</span> <span class="p">[{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Fahrt </span><span class="si">{</span><span class="n">fahrt_id</span><span class="si">}</span><span class="s2">, Fahrmodus: </span><span class="si">{</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">fahrt_id</span><span class="p">][</span><span class="s1">&#39;Fahrmodus&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="n">fahrt_id</span><span class="p">}</span> <span class="k">for</span> <span class="n">fahrt_id</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()],</span> <span class="n">data</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;primary&#39;</span>

<span class="c1"># Button Fahrmodus 4</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
    <span class="n">output_button_disable</span><span class="p">,</span> 
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM4&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>     
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM4&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">),</span>
    <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;btFM4&#39;</span><span class="p">,</span> <span class="s1">&#39;n_clicks&#39;</span><span class="p">),</span> 
    <span class="n">prevent_initial_call</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_output</span><span class="p">(</span><span class="n">n_clicks</span><span class="p">):</span>
    <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="p">[</span><span class="n">dbc</span><span class="o">.</span><span class="n">Spinner</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="s2">&quot;sm&quot;</span><span class="p">),</span> <span class="s2">&quot; FM4 aktiv...&quot;</span><span class="p">],</span><span class="s1">&#39;warning&#39;</span>

<span class="c1"># Button Fahrmodus 4 Farbänderung</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
    <span class="n">output_button_disable</span><span class="p">,</span> 
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM4&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>     
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;fahrt-dropdown&#39;</span><span class="p">,</span> <span class="s1">&#39;options&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> 
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;fahrt-dropdown&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>            
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM4&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;btFM4&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">),</span> 
    <span class="n">prevent_initial_call</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_output</span><span class="p">(</span><span class="n">color</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;warning&#39;</span><span class="p">:</span>
        <span class="n">car</span><span class="o">.</span><span class="n">fahrmodus</span><span class="p">(</span><span class="n">fmodus</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="n">car</span><span class="o">.</span><span class="n">vmax_vorgabe</span><span class="p">,</span> <span class="n">mindist</span><span class="o">=</span><span class="n">car</span><span class="o">.</span><span class="n">mindist_vorgabe</span><span class="p">)</span>
        <span class="n">data</span><span class="o">.</span><span class="n">read_data</span><span class="p">()</span>  
    <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;Fahrmodus 4&#39;</span><span class="p">,</span> <span class="p">[{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Fahrt </span><span class="si">{</span><span class="n">fahrt_id</span><span class="si">}</span><span class="s2">, Fahrmodus: </span><span class="si">{</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">fahrt_id</span><span class="p">][</span><span class="s1">&#39;Fahrmodus&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="n">fahrt_id</span><span class="p">}</span> <span class="k">for</span> <span class="n">fahrt_id</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()],</span> <span class="n">data</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;primary&#39;</span>


<span class="c1"># Button Fahrmodus 5</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
    <span class="n">output_button_disable</span><span class="p">,</span> 
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM5&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>      
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM5&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">),</span>
    <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;btFM5&#39;</span><span class="p">,</span> <span class="s1">&#39;n_clicks&#39;</span><span class="p">),</span> 
    <span class="n">prevent_initial_call</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_output</span><span class="p">(</span><span class="n">n_clicks</span><span class="p">):</span>
    <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="p">[</span><span class="n">dbc</span><span class="o">.</span><span class="n">Spinner</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="s2">&quot;sm&quot;</span><span class="p">),</span> <span class="s2">&quot; FM5 aktiv...&quot;</span><span class="p">],</span> <span class="s1">&#39;warning&#39;</span>

<span class="c1"># Button Fahrmodus 5 Farbänderung</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
    <span class="n">output_button_disable</span><span class="p">,</span>  
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM5&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>      
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;fahrt-dropdown&#39;</span><span class="p">,</span> <span class="s1">&#39;options&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> 
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;fahrt-dropdown&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>           
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM5&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;btFM5&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">),</span> 
    <span class="n">prevent_initial_call</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_output</span><span class="p">(</span><span class="n">color</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;warning&#39;</span><span class="p">:</span>
        <span class="n">car</span><span class="o">.</span><span class="n">fahrmodus</span><span class="p">(</span><span class="n">fmodus</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="n">car</span><span class="o">.</span><span class="n">vmax_vorgabe</span><span class="p">,</span> <span class="n">mindist</span><span class="o">=</span><span class="n">car</span><span class="o">.</span><span class="n">mindist_vorgabe</span><span class="p">)</span>
        <span class="n">data</span><span class="o">.</span><span class="n">read_data</span><span class="p">()</span>  
    <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;Fahrmodus 5&#39;</span><span class="p">,</span> <span class="p">[{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Fahrt </span><span class="si">{</span><span class="n">fahrt_id</span><span class="si">}</span><span class="s2">, Fahrmodus: </span><span class="si">{</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">fahrt_id</span><span class="p">][</span><span class="s1">&#39;Fahrmodus&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="n">fahrt_id</span><span class="p">}</span> <span class="k">for</span> <span class="n">fahrt_id</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()],</span> <span class="n">data</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;primary&#39;</span>

<span class="c1"># Button Fahrmodus 6</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
    <span class="n">output_button_disable</span><span class="p">,</span> 
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM6&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>     
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM6&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">),</span>
    <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;btFM6&#39;</span><span class="p">,</span> <span class="s1">&#39;n_clicks&#39;</span><span class="p">),</span> 
    <span class="n">prevent_initial_call</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_output</span><span class="p">(</span><span class="n">n_clicks</span><span class="p">):</span>
    <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="p">[</span><span class="n">dbc</span><span class="o">.</span><span class="n">Spinner</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="s2">&quot;sm&quot;</span><span class="p">),</span> <span class="s2">&quot; FM6 aktiv...&quot;</span><span class="p">],</span> <span class="s1">&#39;warning&#39;</span>

<span class="c1"># Button Fahrmodus 6 Farbänderung</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
    <span class="n">output_button_disable</span><span class="p">,</span> 
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM6&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>       
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;fahrt-dropdown&#39;</span><span class="p">,</span> <span class="s1">&#39;options&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> 
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;fahrt-dropdown&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>          
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM6&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;btFM6&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">),</span> 
    <span class="n">prevent_initial_call</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_output</span><span class="p">(</span><span class="n">color</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;warning&#39;</span><span class="p">:</span>
        <span class="n">car</span><span class="o">.</span><span class="n">fahrmodus</span><span class="p">(</span><span class="n">fmodus</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="n">car</span><span class="o">.</span><span class="n">vmax_vorgabe</span><span class="p">,</span> <span class="n">mindist</span><span class="o">=</span><span class="n">car</span><span class="o">.</span><span class="n">mindist_vorgabe</span><span class="p">)</span>
        <span class="n">data</span><span class="o">.</span><span class="n">read_data</span><span class="p">()</span>  
    <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;Fahrmodus 6&#39;</span><span class="p">,</span> <span class="p">[{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Fahrt </span><span class="si">{</span><span class="n">fahrt_id</span><span class="si">}</span><span class="s2">, Fahrmodus: </span><span class="si">{</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">fahrt_id</span><span class="p">][</span><span class="s1">&#39;Fahrmodus&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="n">fahrt_id</span><span class="p">}</span> <span class="k">for</span> <span class="n">fahrt_id</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()],</span> <span class="n">data</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;primary&#39;</span>

<span class="c1"># Button Fahrmodus 7</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
    <span class="n">output_button_disable</span><span class="p">,</span> 
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM7&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>     
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM7&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">),</span>
    <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;btFM7&#39;</span><span class="p">,</span> <span class="s1">&#39;n_clicks&#39;</span><span class="p">),</span> 
    <span class="n">prevent_initial_call</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_output</span><span class="p">(</span><span class="n">n_clicks</span><span class="p">):</span>
    <span class="k">return</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="p">[</span><span class="n">dbc</span><span class="o">.</span><span class="n">Spinner</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="s2">&quot;sm&quot;</span><span class="p">),</span> <span class="s2">&quot; FM7 aktiv...&quot;</span><span class="p">],</span> <span class="s1">&#39;warning&#39;</span>

<span class="c1"># Button Fahrmodus 7 Farbänderung</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
    <span class="n">output_button_disable</span><span class="p">,</span>  
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM7&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>      
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;fahrt-dropdown&#39;</span><span class="p">,</span> <span class="s1">&#39;options&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> 
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;fahrt-dropdown&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>          
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM7&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;btFM7&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">),</span> 
    <span class="n">prevent_initial_call</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_output</span><span class="p">(</span><span class="n">color</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;warning&#39;</span><span class="p">:</span>
        <span class="n">car</span><span class="o">.</span><span class="n">fahrmodus</span><span class="p">(</span><span class="n">fmodus</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="n">car</span><span class="o">.</span><span class="n">vmax_vorgabe</span><span class="p">,</span> <span class="n">mindist</span><span class="o">=</span><span class="n">car</span><span class="o">.</span><span class="n">mindist_vorgabe</span><span class="p">)</span>
        <span class="n">data</span><span class="o">.</span><span class="n">read_data</span><span class="p">()</span>  
    <span class="k">return</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;Fahrmodus 7&#39;</span><span class="p">,</span> <span class="p">[{</span><span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Fahrt </span><span class="si">{</span><span class="n">fahrt_id</span><span class="si">}</span><span class="s2">, Fahrmodus: </span><span class="si">{</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">fahrt_id</span><span class="p">][</span><span class="s1">&#39;Fahrmodus&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="n">fahrt_id</span><span class="p">}</span> <span class="k">for</span> <span class="n">fahrt_id</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()],</span> <span class="n">data</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;primary&#39;</span>

<span class="c1"># Stopp-Button</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM1&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM1&#39;</span><span class="p">,</span> <span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM1&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>  
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM2&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>       
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM2&#39;</span><span class="p">,</span> <span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM2&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM3&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM3&#39;</span><span class="p">,</span> <span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM3&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM4&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM4&#39;</span><span class="p">,</span> <span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM4&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM5&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM5&#39;</span><span class="p">,</span> <span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM5&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM6&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM6&#39;</span><span class="p">,</span> <span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM6&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM7&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM7&#39;</span><span class="p">,</span> <span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btFM7&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;btStopp&#39;</span><span class="p">,</span> <span class="s1">&#39;n_clicks&#39;</span><span class="p">),</span> 
    <span class="n">prevent_initial_call</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_output</span><span class="p">(</span><span class="n">n_clicks</span><span class="p">):</span>
    <span class="n">car</span><span class="o">.</span><span class="n">ismanually_stopped</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="s1">&#39;Fahrmodus 1&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;primary&#39;</span><span class="p">,</span> <span class="s1">&#39;Fahrmodus 2&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;primary&#39;</span><span class="p">,</span> <span class="s1">&#39;Fahrmodus 3&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;primary&#39;</span><span class="p">,</span> <span class="s1">&#39;Fahrmodus 4&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;primary&#39;</span><span class="p">,</span> <span class="s1">&#39;Fahrmodus 5&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;primary&#39;</span><span class="p">,</span> <span class="s1">&#39;Fahrmodus 6&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;primary&#39;</span><span class="p">,</span> <span class="s1">&#39;Fahrmodus 7&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;primary&#39;</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btCali&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btCali&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;cali_value&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;vmax_vorgabe&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;maxwinkel_vorgabe&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;mindist_vorgabe&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">),</span>
    <span class="p">[</span><span class="n">Input</span><span class="p">(</span><span class="s1">&#39;btCali&#39;</span><span class="p">,</span> <span class="s1">&#39;n_clicks&#39;</span><span class="p">)]</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_output</span><span class="p">(</span><span class="n">n_clicks</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n_clicks</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">n_clicks</span> <span class="o">%</span> <span class="mi">4</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">car</span><span class="o">.</span><span class="n">frontwheels</span><span class="o">.</span><span class="n">turn</span><span class="p">(</span><span class="mi">90</span><span class="p">)</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;Fzg. auf Hintergrd. stellen&#39;</span><span class="p">,</span> <span class="s1">&#39;warning&#39;</span> <span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">car</span><span class="o">.</span><span class="n">vmax_vorgabe</span><span class="p">,</span> <span class="n">car</span><span class="o">.</span><span class="n">maxwinkel_vorgabe</span><span class="p">,</span> <span class="n">car</span><span class="o">.</span><span class="n">mindist_vorgabe</span>
        <span class="k">elif</span> <span class="n">n_clicks</span> <span class="o">%</span> <span class="mi">4</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">car</span><span class="o">.</span><span class="n">background</span> <span class="o">=</span> <span class="n">car</span><span class="o">.</span><span class="n">infrared</span><span class="o">.</span><span class="n">get_average</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;measured background:&#39;</span><span class="p">,</span> <span class="n">car</span><span class="o">.</span><span class="n">background</span><span class="p">)</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;Fzg. auf Linie stellen&#39;</span><span class="p">,</span> <span class="s1">&#39;warning&#39;</span> <span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Hintergrund: </span><span class="si">{</span><span class="n">car</span><span class="o">.</span><span class="n">background</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">car</span><span class="o">.</span><span class="n">vmax_vorgabe</span><span class="p">,</span> <span class="n">car</span><span class="o">.</span><span class="n">maxwinkel_vorgabe</span><span class="p">,</span> <span class="n">car</span><span class="o">.</span><span class="n">mindist_vorgabe</span>
        <span class="k">elif</span> <span class="n">n_clicks</span> <span class="o">%</span> <span class="mi">4</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">line</span> <span class="o">=</span> <span class="n">car</span><span class="o">.</span><span class="n">infrared</span><span class="o">.</span><span class="n">get_average</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;measured line:&#39;</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
            <span class="n">car</span><span class="o">.</span><span class="n">infrared</span><span class="o">.</span><span class="n">_references</span> <span class="o">=</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">car</span><span class="o">.</span><span class="n">background</span><span class="p">))</span> <span class="o">/</span> <span class="mi">2</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Reference:&#39;</span><span class="p">,</span> <span class="n">car</span><span class="o">.</span><span class="n">infrared</span><span class="o">.</span><span class="n">_references</span><span class="p">)</span>
            <span class="n">car</span><span class="o">.</span><span class="n">save_reference</span><span class="p">(</span><span class="n">car</span><span class="o">.</span><span class="n">infrared</span><span class="o">.</span><span class="n">_references</span><span class="p">)</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;Werteanzeige löschen&#39;</span><span class="p">,</span> <span class="s1">&#39;success&#39;</span> <span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Hintergrund: </span><span class="si">{</span><span class="n">car</span><span class="o">.</span><span class="n">background</span><span class="si">}</span><span class="s1"> Vordergrund: </span><span class="si">{</span><span class="n">line</span><span class="si">}</span><span class="s1"> Schwellwert: </span><span class="si">{</span><span class="n">car</span><span class="o">.</span><span class="n">infrared</span><span class="o">.</span><span class="n">_references</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">car</span><span class="o">.</span><span class="n">vmax_vorgabe</span><span class="p">,</span> <span class="n">car</span><span class="o">.</span><span class="n">maxwinkel_vorgabe</span><span class="p">,</span> <span class="n">car</span><span class="o">.</span><span class="n">mindist_vorgabe</span>
        <span class="k">elif</span> <span class="n">n_clicks</span> <span class="o">%</span> <span class="mi">4</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;Neukalibrierung starten&#39;</span><span class="p">,</span> <span class="s1">&#39;primary&#39;</span> <span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">car</span><span class="o">.</span><span class="n">vmax_vorgabe</span><span class="p">,</span> <span class="n">car</span><span class="o">.</span><span class="n">maxwinkel_vorgabe</span><span class="p">,</span> <span class="n">car</span><span class="o">.</span><span class="n">mindist_vorgabe</span>        
    <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;Kalibrierung starten&#39;</span><span class="p">,</span> <span class="s1">&#39;primary&#39;</span> <span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">car</span><span class="o">.</span><span class="n">vmax_vorgabe</span><span class="p">,</span> <span class="n">car</span><span class="o">.</span><span class="n">maxwinkel_vorgabe</span><span class="p">,</span> <span class="n">car</span><span class="o">.</span><span class="n">mindist_vorgabe</span>

<span class="c1"># Button zum Ausklappen des manuellen Fahrmodus</span>
<div class="viewcode-block" id="toggle_collapse"><a class="viewcode-back" href="../index.html#app_gui.toggle_collapse">[Doku]</a><span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
    <span class="n">Output</span><span class="p">(</span><span class="s2">&quot;collapse&quot;</span><span class="p">,</span> <span class="s2">&quot;is_open&quot;</span><span class="p">),</span>
    <span class="p">[</span><span class="n">Input</span><span class="p">(</span><span class="s2">&quot;collapse-button&quot;</span><span class="p">,</span> <span class="s2">&quot;n_clicks&quot;</span><span class="p">)],</span>
    <span class="p">[</span><span class="n">State</span><span class="p">(</span><span class="s2">&quot;collapse&quot;</span><span class="p">,</span> <span class="s2">&quot;is_open&quot;</span><span class="p">)],</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">toggle_collapse</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">is_open</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span><span class="p">:</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="n">is_open</span>
    <span class="k">return</span> <span class="n">is_open</span></div>

<span class="c1"># Dropdown Max Geschwindigkeit</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btCali&#39;</span><span class="p">,</span> <span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;vmax_vorgabe&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">),</span>
    <span class="n">prevent_initial_call</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_output</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="n">car</span><span class="o">.</span><span class="n">vmax_vorgabe</span> <span class="o">=</span> <span class="n">value</span>
    <span class="n">saveconfig</span><span class="o">.</span><span class="n">save_config</span><span class="p">(</span><span class="n">car</span><span class="o">.</span><span class="n">vmax_vorgabe</span><span class="p">,</span> <span class="n">car</span><span class="o">.</span><span class="n">maxwinkel_vorgabe</span><span class="p">,</span> <span class="n">car</span><span class="o">.</span><span class="n">mindist_vorgabe</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">False</span>

<span class="c1"># Dropdown Max Lenkwinkel</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btCali&#39;</span><span class="p">,</span> <span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;maxwinkel_vorgabe&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">),</span>
   <span class="n">prevent_initial_call</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_output</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="n">car</span><span class="o">.</span><span class="n">maxwinkel_vorgabe</span> <span class="o">=</span> <span class="n">value</span>
    <span class="n">saveconfig</span><span class="o">.</span><span class="n">save_config</span><span class="p">(</span><span class="n">car</span><span class="o">.</span><span class="n">vmax_vorgabe</span><span class="p">,</span> <span class="n">car</span><span class="o">.</span><span class="n">maxwinkel_vorgabe</span><span class="p">,</span> <span class="n">car</span><span class="o">.</span><span class="n">mindist_vorgabe</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">False</span>

<span class="c1"># Dropdown Min Abstand</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btCali&#39;</span><span class="p">,</span> <span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;mindist_vorgabe&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">),</span>
    <span class="n">prevent_initial_call</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_output</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
    <span class="n">car</span><span class="o">.</span><span class="n">mindist_vorgabe</span> <span class="o">=</span> <span class="n">value</span>
    <span class="n">saveconfig</span><span class="o">.</span><span class="n">save_config</span><span class="p">(</span><span class="n">car</span><span class="o">.</span><span class="n">vmax_vorgabe</span><span class="p">,</span> <span class="n">car</span><span class="o">.</span><span class="n">maxwinkel_vorgabe</span><span class="p">,</span> <span class="n">car</span><span class="o">.</span><span class="n">mindist_vorgabe</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">False</span>

<span class="c1"># Button Vorwärts</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btVor&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btZurueck&#39;</span><span class="p">,</span> <span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>  
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btRechts&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btLinks&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>       
    <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;btVor&#39;</span><span class="p">,</span> <span class="s1">&#39;n_clicks&#39;</span><span class="p">),</span> 
    <span class="n">prevent_initial_call</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_output</span><span class="p">(</span><span class="n">n_clicks</span><span class="p">):</span> 
    <span class="n">car</span><span class="o">.</span><span class="n">frontwheels</span><span class="o">.</span><span class="n">turn</span><span class="p">(</span><span class="mi">90</span><span class="p">)</span>
    <span class="k">return</span> <span class="s1">&#39;success&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;primary&#39;</span><span class="p">,</span> <span class="s1">&#39;primary&#39;</span>

<span class="c1"># Button Vorwärts Farbänderung</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span> 
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btCali&#39;</span><span class="p">,</span> <span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>    
    <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;btVor&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">),</span> 
    <span class="n">prevent_initial_call</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_output</span><span class="p">(</span><span class="n">color</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;success&#39;</span><span class="p">:</span>
        <span class="n">car</span><span class="o">.</span><span class="n">drive</span><span class="p">(</span><span class="n">car</span><span class="o">.</span><span class="n">vmax_vorgabe</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">False</span>

<span class="c1"># Button Rückwärts</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btZurueck&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btVor&#39;</span><span class="p">,</span> <span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> 
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btRechts&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btLinks&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>        
    <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;btZurueck&#39;</span><span class="p">,</span> <span class="s1">&#39;n_clicks&#39;</span><span class="p">),</span> 
    <span class="n">prevent_initial_call</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_output</span><span class="p">(</span><span class="n">n_clicks</span><span class="p">):</span>
    <span class="n">car</span><span class="o">.</span><span class="n">frontwheels</span><span class="o">.</span><span class="n">turn</span><span class="p">(</span><span class="mi">90</span><span class="p">)</span>
    <span class="k">return</span> <span class="s1">&#39;success&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;primary&#39;</span><span class="p">,</span> <span class="s1">&#39;primary&#39;</span>

<span class="c1"># Button Rückwärts Farbänderung</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span> 
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btCali&#39;</span><span class="p">,</span> <span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;btZurueck&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">),</span> 
    <span class="n">prevent_initial_call</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_output</span><span class="p">(</span><span class="n">color</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;success&#39;</span><span class="p">:</span>
        <span class="n">car</span><span class="o">.</span><span class="n">drive</span><span class="p">(</span><span class="o">-</span><span class="n">car</span><span class="o">.</span><span class="n">vmax_vorgabe</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">False</span>  

<span class="c1"># Button Links lenken</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btLinks&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>    
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btRechts&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;btLinks&#39;</span><span class="p">,</span> <span class="s1">&#39;n_clicks&#39;</span><span class="p">),</span> 
    <span class="n">prevent_initial_call</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_output</span><span class="p">(</span><span class="n">n_clicks</span><span class="p">):</span>
    <span class="n">car</span><span class="o">.</span><span class="n">frontwheels</span><span class="o">.</span><span class="n">turn</span><span class="p">(</span><span class="mi">90</span><span class="o">-</span><span class="n">car</span><span class="o">.</span><span class="n">maxwinkel_vorgabe</span><span class="p">)</span>
    <span class="k">return</span> <span class="s1">&#39;success&#39;</span><span class="p">,</span> <span class="s1">&#39;primary&#39;</span>

<span class="c1"># Button Links lenken Farbänderung</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span> 
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btCali&#39;</span><span class="p">,</span> <span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;btLinks&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">),</span> 
    <span class="n">prevent_initial_call</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_output</span><span class="p">(</span><span class="n">color</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;success&#39;</span><span class="p">:</span>
        <span class="n">car</span><span class="o">.</span><span class="n">frontwheels</span><span class="o">.</span><span class="n">turn</span><span class="p">(</span><span class="mi">90</span><span class="o">-</span><span class="n">car</span><span class="o">.</span><span class="n">maxwinkel_vorgabe</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">False</span>  

<span class="c1"># Button Rechts lenken</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btRechts&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btLinks&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> 
    <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;btRechts&#39;</span><span class="p">,</span> <span class="s1">&#39;n_clicks&#39;</span><span class="p">),</span> 
    <span class="n">prevent_initial_call</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_output</span><span class="p">(</span><span class="n">n_clicks</span><span class="p">):</span>
    <span class="n">car</span><span class="o">.</span><span class="n">frontwheels</span><span class="o">.</span><span class="n">turn</span><span class="p">(</span><span class="mi">90</span><span class="o">+</span><span class="n">car</span><span class="o">.</span><span class="n">maxwinkel_vorgabe</span><span class="p">)</span>
    <span class="k">return</span> <span class="s1">&#39;success&#39;</span><span class="p">,</span> <span class="s1">&#39;primary&#39;</span>

<span class="c1"># Button Rechts lenken Farbänderung</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span> 
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btCali&#39;</span><span class="p">,</span> <span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;btRechts&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">),</span> 
    <span class="n">prevent_initial_call</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_output</span><span class="p">(</span><span class="n">color</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;success&#39;</span><span class="p">:</span>
        <span class="n">car</span><span class="o">.</span><span class="n">frontwheels</span><span class="o">.</span><span class="n">turn</span><span class="p">(</span><span class="mi">90</span><span class="o">+</span><span class="n">car</span><span class="o">.</span><span class="n">maxwinkel_vorgabe</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">False</span>     

<span class="c1"># Button Stopp</span>
<div class="viewcode-block" id="update_output"><a class="viewcode-back" href="../index.html#app_gui.update_output">[Doku]</a><span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btVor&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btLinks&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btRechts&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btZurueck&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btVor&#39;</span><span class="p">,</span> <span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btLinks&#39;</span><span class="p">,</span> <span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btRechts&#39;</span><span class="p">,</span> <span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;btZurueck&#39;</span><span class="p">,</span> <span class="s1">&#39;disabled&#39;</span><span class="p">,</span> <span class="n">allow_duplicate</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;btStop&#39;</span><span class="p">,</span> <span class="s1">&#39;n_clicks&#39;</span><span class="p">),</span> 
    <span class="n">prevent_initial_call</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_output</span><span class="p">(</span><span class="n">n_clicks</span><span class="p">):</span>
    <span class="n">car</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
    <span class="n">car</span><span class="o">.</span><span class="n">frontwheels</span><span class="o">.</span><span class="n">turn</span><span class="p">(</span><span class="mi">90</span><span class="p">)</span>
    <span class="k">return</span> <span class="s1">&#39;primary&#39;</span><span class="p">,</span> <span class="s1">&#39;primary&#39;</span><span class="p">,</span> <span class="s1">&#39;primary&#39;</span><span class="p">,</span> <span class="s1">&#39;primary&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="update_diagrams"><a class="viewcode-back" href="../index.html#app_gui.update_diagrams">[Doku]</a><span class="nd">@app</span><span class="o">.</span><span class="n">callback</span><span class="p">(</span>
    <span class="p">[</span>
        <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;geschwindigkeit-zeit&#39;</span><span class="p">,</span> <span class="s1">&#39;figure&#39;</span><span class="p">),</span>
        <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;fahrstrecke-zeit&#39;</span><span class="p">,</span> <span class="s1">&#39;figure&#39;</span><span class="p">),</span>
        <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;sonic-zeit&#39;</span><span class="p">,</span> <span class="s1">&#39;figure&#39;</span><span class="p">),</span>
        <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;sonic-zeit&#39;</span><span class="p">,</span> <span class="s1">&#39;style&#39;</span><span class="p">),</span>
        <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;lenkwinkel-zeit&#39;</span><span class="p">,</span> <span class="s1">&#39;figure&#39;</span><span class="p">),</span>
        <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;ir-status-zeit&#39;</span><span class="p">,</span> <span class="s1">&#39;figure&#39;</span><span class="p">),</span>
        <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;ir-status-zeit&#39;</span><span class="p">,</span> <span class="s1">&#39;style&#39;</span><span class="p">),</span>
        <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;Vmin&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">),</span>
        <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;Vmax&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">),</span>
        <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;Vmean&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">),</span>
        <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;Fahrzeit&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">),</span>
        <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;Fahrstrecke&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">),</span>
        <span class="n">Output</span><span class="p">(</span><span class="s1">&#39;Fahrmodus&#39;</span><span class="p">,</span> <span class="s1">&#39;children&#39;</span><span class="p">)</span>
    <span class="p">],</span>
    <span class="p">[</span>
        <span class="n">Input</span><span class="p">(</span><span class="s1">&#39;fahrt-dropdown&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">)</span>
    <span class="p">]</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">update_diagrams</span><span class="p">(</span><span class="n">selected_fahrt</span><span class="p">):</span>
    <span class="n">filtered_df</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">selected_fahrt</span><span class="p">]</span>
    <span class="n">filtered_df</span><span class="p">[</span><span class="s1">&#39;Abstand2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">filtered_df</span><span class="p">[</span><span class="s1">&#39;Abstand&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">500</span> <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="o">-</span><span class="mi">2</span> <span class="k">else</span> <span class="p">(</span><span class="n">x</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="kc">None</span><span class="p">))</span>

    <span class="n">vmax_value</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">selected_fahrt</span><span class="p">][</span><span class="s1">&#39;Vmax&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> cm/s&quot;</span>
    <span class="n">vmin_value</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">selected_fahrt</span><span class="p">][</span><span class="s1">&#39;Vmin&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> cm/s&quot;</span>
    <span class="n">vmean_value</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">selected_fahrt</span><span class="p">][</span><span class="s1">&#39;Vmean&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> cm/s&quot;</span>
    <span class="n">fahrzeit_value</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">selected_fahrt</span><span class="p">][</span><span class="s1">&#39;Fahrzeit&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> s&quot;</span>
    <span class="n">fahrstrecke_value</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">selected_fahrt</span><span class="p">][</span><span class="s1">&#39;Fahrstrecke&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2"> m&quot;</span>
    <span class="n">fahrmodus_value</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="n">data</span><span class="o">.</span><span class="n">result_df</span><span class="p">[</span><span class="s1">&#39;FahrtID&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">selected_fahrt</span><span class="p">][</span><span class="s1">&#39;Fahrmodus&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="n">sonic_fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="p">[</span>
            <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
                <span class="n">x</span><span class="o">=</span><span class="n">filtered_df</span><span class="p">[</span><span class="s1">&#39;Zeit&#39;</span><span class="p">],</span>
                <span class="n">y</span><span class="o">=</span><span class="n">filtered_df</span><span class="p">[</span><span class="s1">&#39;Abstand2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">),</span>
                <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;lines&#39;</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Abstand&quot;</span>
            <span class="p">)</span>
        <span class="p">],</span>
        <span class="n">layout</span><span class="o">=</span><span class="n">go</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span>
            <span class="n">title</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Abstand (Fahrt </span><span class="si">{</span><span class="n">selected_fahrt</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span><span class="s2">&quot;font&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;white&quot;</span><span class="p">}},</span>
            <span class="n">xaxis</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Zeit (s)&quot;</span><span class="p">,</span><span class="s2">&quot;font&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;white&quot;</span><span class="p">}},</span> <span class="s2">&quot;tickfont&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;white&quot;</span><span class="p">},</span> <span class="s2">&quot;gridcolor&quot;</span><span class="p">:</span> <span class="s2">&quot;grey&quot;</span><span class="p">,</span> <span class="s2">&quot;linecolor&quot;</span><span class="p">:</span> <span class="s2">&quot;grey&quot;</span><span class="p">},</span>
            <span class="n">yaxis</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Abstand (cm)&quot;</span><span class="p">,</span><span class="s2">&quot;font&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;white&quot;</span><span class="p">}},</span> <span class="s2">&quot;tickfont&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;white&quot;</span><span class="p">},</span> <span class="s2">&quot;gridcolor&quot;</span><span class="p">:</span> <span class="s2">&quot;grey&quot;</span><span class="p">,</span> <span class="s2">&quot;linecolor&quot;</span><span class="p">:</span> <span class="s2">&quot;grey&quot;</span><span class="p">},</span>            
            <span class="n">height</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span>
            <span class="n">paper_bgcolor</span><span class="o">=</span><span class="s2">&quot;rgba(40,40,40,1)&quot;</span><span class="p">,</span>
            <span class="n">plot_bgcolor</span><span class="o">=</span><span class="s2">&quot;rgba(40,40,40,1)&quot;</span><span class="p">,</span>
            <span class="n">shapes</span><span class="o">=</span><span class="p">[</span>  <span class="c1"># Hinzufügen der roten Linie</span>
                <span class="nb">dict</span><span class="p">(</span>
                    <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;line&quot;</span><span class="p">,</span>
                    <span class="n">x0</span><span class="o">=</span><span class="n">filtered_df</span><span class="p">[</span><span class="s1">&#39;Zeit&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span>
                    <span class="n">x1</span><span class="o">=</span><span class="n">filtered_df</span><span class="p">[</span><span class="s1">&#39;Zeit&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span>
                    <span class="n">y0</span><span class="o">=</span><span class="n">car</span><span class="o">.</span><span class="n">mindist_vorgabe</span><span class="p">,</span>
                    <span class="n">y1</span><span class="o">=</span><span class="n">car</span><span class="o">.</span><span class="n">mindist_vorgabe</span><span class="p">,</span>
                    <span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
                <span class="p">)</span>
            <span class="p">]</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="n">geschwindigkeit_fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="p">[</span>
            <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
                <span class="n">x</span><span class="o">=</span><span class="n">filtered_df</span><span class="p">[</span><span class="s1">&#39;Zeit&#39;</span><span class="p">],</span>
                <span class="n">y</span><span class="o">=</span><span class="n">filtered_df</span><span class="p">[</span><span class="s1">&#39;Geschwindigkeit&#39;</span><span class="p">]</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>
                <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;lines&#39;</span><span class="p">,</span>
                <span class="n">line_shape</span><span class="o">=</span><span class="s1">&#39;hv&#39;</span><span class="p">,</span>  <span class="c1"># Horizontale Stufenanzeige</span>
                <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Geschwindigkeit&quot;</span>
            <span class="p">)</span>
        <span class="p">],</span>
        <span class="n">layout</span><span class="o">=</span><span class="n">go</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span>
            <span class="n">title</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Geschwindigkeit (Fahrt </span><span class="si">{</span><span class="n">selected_fahrt</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span><span class="s2">&quot;font&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;white&quot;</span><span class="p">}},</span>
            <span class="n">xaxis</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Zeit (s)&quot;</span><span class="p">,</span><span class="s2">&quot;font&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;white&quot;</span><span class="p">}},</span> <span class="s2">&quot;tickfont&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;white&quot;</span><span class="p">},</span> <span class="s2">&quot;gridcolor&quot;</span><span class="p">:</span> <span class="s2">&quot;grey&quot;</span><span class="p">,</span> <span class="s2">&quot;linecolor&quot;</span><span class="p">:</span> <span class="s2">&quot;grey&quot;</span><span class="p">},</span>
            <span class="n">yaxis</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Geschwindigkeit (cm/s)&quot;</span><span class="p">,</span><span class="s2">&quot;font&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;white&quot;</span><span class="p">}},</span> <span class="s2">&quot;tickfont&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;white&quot;</span><span class="p">},</span> <span class="s2">&quot;gridcolor&quot;</span><span class="p">:</span> <span class="s2">&quot;grey&quot;</span><span class="p">,</span> <span class="s2">&quot;linecolor&quot;</span><span class="p">:</span> <span class="s2">&quot;grey&quot;</span><span class="p">},</span>
            <span class="n">height</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span>
            <span class="n">paper_bgcolor</span><span class="o">=</span><span class="s2">&quot;rgba(40,40,40,1)&quot;</span><span class="p">,</span>
            <span class="n">plot_bgcolor</span><span class="o">=</span><span class="s2">&quot;rgba(40,40,40,1)&quot;</span><span class="p">,</span>            
            <span class="n">shapes</span><span class="o">=</span><span class="p">[</span>  <span class="c1"># Hinzufügen der roten Linie</span>
                <span class="nb">dict</span><span class="p">(</span>
                    <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;line&quot;</span><span class="p">,</span>
                    <span class="n">x0</span><span class="o">=</span><span class="n">filtered_df</span><span class="p">[</span><span class="s1">&#39;Zeit&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span>
                    <span class="n">x1</span><span class="o">=</span><span class="n">filtered_df</span><span class="p">[</span><span class="s1">&#39;Zeit&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">(),</span>
                    <span class="n">y0</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                    <span class="n">y1</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                    <span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span>
                <span class="p">)</span>
            <span class="p">]</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="n">fahrstrecke_fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="p">[</span>
            <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
                <span class="n">x</span><span class="o">=</span><span class="n">filtered_df</span><span class="p">[</span><span class="s1">&#39;Zeit&#39;</span><span class="p">],</span>
                <span class="n">y</span><span class="o">=</span><span class="n">filtered_df</span><span class="p">[</span><span class="s1">&#39;Fahrstrecke&#39;</span><span class="p">],</span>
                <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;lines&#39;</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Fahrstrecke&quot;</span><span class="p">,</span>
                <span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;violet&#39;</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="p">],</span>
        <span class="n">layout</span><span class="o">=</span><span class="n">go</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span>
            <span class="n">title</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Fahrstrecke (Fahrt </span><span class="si">{</span><span class="n">selected_fahrt</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span><span class="s2">&quot;font&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;white&quot;</span><span class="p">}},</span>
            <span class="n">xaxis</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Zeit (s)&quot;</span><span class="p">,</span><span class="s2">&quot;font&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;white&quot;</span><span class="p">}},</span> <span class="s2">&quot;tickfont&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;white&quot;</span><span class="p">},</span> <span class="s2">&quot;gridcolor&quot;</span><span class="p">:</span> <span class="s2">&quot;grey&quot;</span><span class="p">,</span> <span class="s2">&quot;linecolor&quot;</span><span class="p">:</span> <span class="s2">&quot;grey&quot;</span><span class="p">},</span>
            <span class="n">yaxis</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Fahrstrecke (m)&quot;</span><span class="p">,</span><span class="s2">&quot;font&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;white&quot;</span><span class="p">}},</span> <span class="s2">&quot;tickfont&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;white&quot;</span><span class="p">},</span> <span class="s2">&quot;gridcolor&quot;</span><span class="p">:</span> <span class="s2">&quot;grey&quot;</span><span class="p">,</span> <span class="s2">&quot;linecolor&quot;</span><span class="p">:</span> <span class="s2">&quot;grey&quot;</span><span class="p">},</span>            
            <span class="n">height</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span>
            <span class="n">paper_bgcolor</span><span class="o">=</span><span class="s2">&quot;rgba(40,40,40,1)&quot;</span><span class="p">,</span>
            <span class="n">plot_bgcolor</span><span class="o">=</span><span class="s2">&quot;rgba(40,40,40,1)&quot;</span><span class="p">,</span>
            <span class="c1"># shapes=[  # Hinzufügen der roten Linie</span>
            <span class="c1">#     dict(</span>
            <span class="c1">#         type=&quot;line&quot;,</span>
            <span class="c1">#         x0=filtered_df[&#39;Zeit&#39;].min(),</span>
            <span class="c1">#         x1=filtered_df[&#39;Zeit&#39;].max(),</span>
            <span class="c1">#         y0=0,</span>
            <span class="c1">#         y1=0,</span>
            <span class="c1">#         line=dict(color=&quot;red&quot;, width=2),</span>
            <span class="c1">#     )</span>
            <span class="c1"># ]</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="n">lenkwinkel_fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="p">[</span>
            <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
                <span class="n">x</span><span class="o">=</span><span class="n">filtered_df</span><span class="p">[</span><span class="s1">&#39;Zeit&#39;</span><span class="p">],</span>
                <span class="n">y</span><span class="o">=</span><span class="n">filtered_df</span><span class="p">[</span><span class="s1">&#39;Lenkwinkel&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="mi">90</span><span class="p">,</span>  <span class="c1"># Adjusting the Lenkwinkel values</span>
                <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;lines&#39;</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Lenkwinkel&quot;</span><span class="p">,</span>
                <span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="p">],</span>
        <span class="n">layout</span><span class="o">=</span><span class="n">go</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span>
            <span class="n">title</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Lenkwinkel (Fahrt </span><span class="si">{</span><span class="n">selected_fahrt</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span><span class="s2">&quot;font&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;white&quot;</span><span class="p">}},</span>
            <span class="n">xaxis</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Zeit (s)&quot;</span><span class="p">,</span><span class="s2">&quot;font&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;white&quot;</span><span class="p">}},</span> <span class="s2">&quot;tickfont&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;white&quot;</span><span class="p">},</span> <span class="s2">&quot;gridcolor&quot;</span><span class="p">:</span> <span class="s2">&quot;grey&quot;</span><span class="p">,</span> <span class="s2">&quot;linecolor&quot;</span><span class="p">:</span> <span class="s2">&quot;grey&quot;</span><span class="p">},</span>
            <span class="n">yaxis</span><span class="o">=</span><span class="p">{</span>
                <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Lenkwinkel (°)&quot;</span><span class="p">,</span><span class="s2">&quot;font&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;white&quot;</span><span class="p">}},</span>
                <span class="s2">&quot;tickfont&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;white&quot;</span><span class="p">},</span>
                <span class="s2">&quot;gridcolor&quot;</span><span class="p">:</span> <span class="s2">&quot;grey&quot;</span><span class="p">,</span>
                <span class="s2">&quot;linecolor&quot;</span><span class="p">:</span> <span class="s2">&quot;grey&quot;</span><span class="p">,</span>
                <span class="s2">&quot;dtick&quot;</span><span class="p">:</span> <span class="mi">10</span> 
            <span class="p">},</span>
            <span class="n">height</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span>
            <span class="n">paper_bgcolor</span><span class="o">=</span><span class="s2">&quot;rgba(40,40,40,1)&quot;</span><span class="p">,</span>
            <span class="n">plot_bgcolor</span><span class="o">=</span><span class="s2">&quot;rgba(40,40,40,1)&quot;</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="n">ir_status_fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="p">[</span>
            <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
                <span class="n">x</span><span class="o">=</span><span class="n">filtered_df</span><span class="p">[</span><span class="s1">&#39;Zeit&#39;</span><span class="p">],</span>
                <span class="n">y</span><span class="o">=</span><span class="n">filtered_df</span><span class="p">[</span><span class="s1">&#39;IR_Status2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">),</span>
                <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;lines&#39;</span><span class="p">,</span>
                <span class="n">name</span><span class="o">=</span><span class="s2">&quot;IR-Status&quot;</span><span class="p">,</span>
                <span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="p">],</span>
        <span class="n">layout</span><span class="o">=</span><span class="n">go</span><span class="o">.</span><span class="n">Layout</span><span class="p">(</span>
            <span class="n">title</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;IR-Status (Fahrt </span><span class="si">{</span><span class="n">selected_fahrt</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span><span class="s2">&quot;font&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;white&quot;</span><span class="p">}},</span>
            <span class="n">xaxis</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Zeit (s)&quot;</span><span class="p">,</span><span class="s2">&quot;font&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;white&quot;</span><span class="p">}},</span> <span class="s2">&quot;tickfont&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;white&quot;</span><span class="p">},</span> <span class="s2">&quot;gridcolor&quot;</span><span class="p">:</span> <span class="s2">&quot;grey&quot;</span><span class="p">,</span> <span class="s2">&quot;linecolor&quot;</span><span class="p">:</span> <span class="s2">&quot;grey&quot;</span><span class="p">},</span>
            <span class="n">yaxis</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;IR-Status&quot;</span><span class="p">,</span><span class="s2">&quot;font&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;white&quot;</span><span class="p">}},</span> <span class="s2">&quot;tickfont&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;white&quot;</span><span class="p">},</span> <span class="s2">&quot;gridcolor&quot;</span><span class="p">:</span> <span class="s2">&quot;grey&quot;</span><span class="p">,</span> <span class="s2">&quot;linecolor&quot;</span><span class="p">:</span> <span class="s2">&quot;grey&quot;</span><span class="p">},</span>
            <span class="n">height</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span>
            <span class="n">paper_bgcolor</span><span class="o">=</span><span class="s2">&quot;rgba(40,40,40,1)&quot;</span><span class="p">,</span>
            <span class="n">plot_bgcolor</span><span class="o">=</span><span class="s2">&quot;rgba(40,40,40,1)&quot;</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="c1"># Show or hide the sonic_fig based on Fahrmodus</span>
    <span class="n">sonic_fig_style</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;display&#39;</span><span class="p">:</span> <span class="s1">&#39;block&#39;</span><span class="p">}</span> <span class="k">if</span> <span class="n">fahrmodus_value</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;3&#39;</span><span class="p">,</span><span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="s1">&#39;7&#39;</span><span class="p">]</span> <span class="k">else</span> <span class="p">{</span><span class="s1">&#39;display&#39;</span><span class="p">:</span> <span class="s1">&#39;none&#39;</span><span class="p">}</span>
    <span class="n">ir_status_fig_style</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;display&#39;</span><span class="p">:</span> <span class="s1">&#39;block&#39;</span><span class="p">}</span> <span class="k">if</span> <span class="n">fahrmodus_value</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;5&#39;</span><span class="p">,</span> <span class="s1">&#39;6&#39;</span><span class="p">,</span> <span class="s1">&#39;7&#39;</span><span class="p">]</span> <span class="k">else</span> <span class="p">{</span><span class="s1">&#39;display&#39;</span><span class="p">:</span> <span class="s1">&#39;none&#39;</span><span class="p">}</span>

    <span class="k">return</span> <span class="n">geschwindigkeit_fig</span><span class="p">,</span> <span class="n">fahrstrecke_fig</span><span class="p">,</span> <span class="n">sonic_fig</span><span class="p">,</span> <span class="n">sonic_fig_style</span><span class="p">,</span> <span class="n">lenkwinkel_fig</span><span class="p">,</span> <span class="n">ir_status_fig</span><span class="p">,</span> <span class="n">ir_status_fig_style</span><span class="p">,</span> <span class="n">vmin_value</span><span class="p">,</span> <span class="n">vmax_value</span><span class="p">,</span> <span class="n">vmean_value</span><span class="p">,</span> <span class="n">fahrzeit_value</span><span class="p">,</span> <span class="n">fahrstrecke_value</span><span class="p">,</span> <span class="n">fahrmodus_value</span></div>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run_server</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">host</span><span class="o">=</span><span class="n">ip_host</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">8053</span><span class="p">)</span>
    
    <span class="c1"># print(df)</span>
</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Camp2Code Projektphase 1</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Inhaltsverzeichnis</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../basecar.html">basecar.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensorcar.html">sensorcar.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="../soniccar.html">soniccar.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="../app_data.html">app_data.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="../app_gui.html">app_gui.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basisklassen.html">basisklassen.py</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Modul-Quellcode</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Schnellsuche</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Los" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2025, Team 1.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
    </div>

    

    
  </body>
</html>